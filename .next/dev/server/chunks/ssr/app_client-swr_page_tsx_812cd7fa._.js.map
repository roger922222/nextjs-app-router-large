{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bytedance/Downloads/nextjs-app-router-large/app/client-swr/page.tsx"],"sourcesContent":["\"use client\";\nimport useSWR from \"swr\";\nimport { useState } from \"react\";\n\nexport default function ClientSWRPage() {\n  const { data, error, isLoading, mutate } = useSWR(\"/api/posts\");\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n\n  async function onCreate() {\n    const payload = { title: title || `SWR 新增 ${Date.now()}`, body };\n    await fetch(\"/api/posts\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n    // 调用 mutate 触发本地更新与重新验证\n    await mutate();\n    setTitle(\"\");\n    setBody(\"\");\n  }\n\n  return (\n    <div>\n      <h2>客户端组件：SWR</h2>\n      {isLoading && <p>加载中...</p>}\n      {error && <p>出错了：{String(error)}</p>}\n      {data && (\n        <>\n          <p>帖子数量：{data.posts.length}</p>\n          <ul>\n            {data.posts.map((p: any) => (\n              <li key={p.id}>\n                <strong>#{p.id} {p.title}</strong>\n                <div><small>{new Date(p.createdAt).toLocaleString()}</small></div>\n                <div>{p.body}</div>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n\n      <section>\n        <h3>新增帖子（POST /api/posts + mutate）</h3>\n        <label>标题</label>\n        <input value={title} onChange={(e) => setTitle(e.target.value)} placeholder=\"输入标题\" />\n        <label>内容</label>\n        <textarea value={body} onChange={(e) => setBody(e.target.value)} placeholder=\"输入内容\" />\n        <button onClick={onCreate}>新增</button>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,IAAA,yKAAM,EAAC;IAClD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,eAAe;QACb,MAAM,UAAU;YAAE,OAAO,SAAS,CAAC,OAAO,EAAE,KAAK,GAAG,IAAI;YAAE;QAAK;QAC/D,MAAM,MAAM,cAAc;YACxB,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,wBAAwB;QACxB,MAAM;QACN,SAAS;QACT,QAAQ;IACV;IAEA,qBACE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;YACH,2BAAa,8OAAC;0BAAE;;;;;;YAChB,uBAAS,8OAAC;;oBAAE;oBAAK,OAAO;;;;;;;YACxB,sBACC;;kCACE,8OAAC;;4BAAE;4BAAM,KAAK,KAAK,CAAC,MAAM;;;;;;;kCAC1B,8OAAC;kCACE,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,kBACf,8OAAC;;kDACC,8OAAC;;4CAAO;4CAAE,EAAE,EAAE;4CAAC;4CAAE,EAAE,KAAK;;;;;;;kDACxB,8OAAC;kDAAI,cAAA,8OAAC;sDAAO,IAAI,KAAK,EAAE,SAAS,EAAE,cAAc;;;;;;;;;;;kDACjD,8OAAC;kDAAK,EAAE,IAAI;;;;;;;+BAHL,EAAE,EAAE;;;;;;;;;;;;0BAUrB,8OAAC;;kCACC,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;kCAAM;;;;;;kCACP,8OAAC;wBAAM,OAAO;wBAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBAAG,aAAY;;;;;;kCAC5E,8OAAC;kCAAM;;;;;;kCACP,8OAAC;wBAAS,OAAO;wBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBAAG,aAAY;;;;;;kCAC7E,8OAAC;wBAAO,SAAS;kCAAU;;;;;;;;;;;;;;;;;;AAInC"}}]
}