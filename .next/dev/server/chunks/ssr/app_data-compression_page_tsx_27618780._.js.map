{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/bytedance/Downloads/nextjs-app-router-large/app/data-compression/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\nexport default function SimpleDataCompressionDemo() {\n  const [compressionResults, setCompressionResults] = useState<any[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // 模拟数据压缩测试\n  const testCompression = async () => {\n    setIsLoading(true);\n    \n    // 模拟压缩测试\n    const results = [\n      {\n        algorithm: 'gzip',\n        originalSize: 1024,\n        compressedSize: 350,\n        compressionRatio: 65.8,\n        time: 25\n      },\n      {\n        algorithm: 'deflate', \n        originalSize: 1024,\n        compressedSize: 380,\n        compressionRatio: 62.9,\n        time: 30\n      },\n      {\n        algorithm: 'brotli',\n        originalSize: 1024,\n        compressedSize: 280,\n        compressionRatio: 72.7,\n        time: 45\n      }\n    ];\n    \n    // 模拟异步处理\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    \n    setCompressionResults(results);\n    setIsLoading(false);\n  };\n\n  // 模拟批量请求测试\n  const testBatchRequests = async () => {\n    setIsLoading(true);\n    \n    // 模拟批量请求对比\n    await new Promise(resolve => setTimeout(resolve, 1500));\n    \n    setIsLoading(false);\n    alert('批量请求测试完成！单个请求: 1200ms → 批量请求: 300ms (75%性能提升)');\n  };\n\n  // 模拟分页测试\n  const testPagination = async () => {\n    setIsLoading(true);\n    \n    // 模拟分页加载\n    await new Promise(resolve => setTimeout(resolve, 800));\n    \n    setIsLoading(false);\n    alert('分页测试完成！大数据集分页加载显著减少内存使用');\n  };\n\n  return (\n    <div className=\"p-8 max-w-6xl mx-auto\">\n      <div className=\"text-center mb-8\">\n        <h1 className=\"text-3xl font-bold mb-4\">数据压缩与传输优化演示</h1>\n        <p className=\"text-gray-600\">\n          展示数据压缩算法、批量请求优化和智能分页的性能提升效果\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">数据压缩测试</h3>\n          <p className=\"text-sm text-gray-600 mb-4\">对比不同压缩算法的效果</p>\n          <button \n            onClick={testCompression}\n            disabled={isLoading}\n            className=\"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50\"\n          >\n            {isLoading ? '测试中...' : '开始压缩测试'}\n          </button>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">批量请求测试</h3>\n          <p className=\"text-sm text-gray-600 mb-4\">对比单个请求vs批量请求</p>\n          <button \n            onClick={testBatchRequests}\n            disabled={isLoading}\n            className=\"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50\"\n          >\n            {isLoading ? '测试中...' : '开始批量测试'}\n          </button>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">分页加载测试</h3>\n          <p className=\"text-sm text-gray-600 mb-4\">测试智能分页性能</p>\n          <button \n            onClick={testPagination}\n            disabled={isLoading}\n            className=\"w-full bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700 disabled:opacity-50\"\n          >\n            {isLoading ? '测试中...' : '开始分页测试'}\n          </button>\n        </div>\n      </div>\n\n      {/* 压缩测试结果 */}\n      {compressionResults.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n          <h3 className=\"text-lg font-semibold mb-4\">压缩测试结果</h3>\n          <div className=\"space-y-4\">\n            {compressionResults.map((result, index) => (\n              <div key={index} className=\"border rounded-lg p-4\">\n                <div className=\"flex justify-between items-center mb-2\">\n                  <span className=\"font-medium\">{result.algorithm.toUpperCase()}</span>\n                  <span className=\"text-sm text-gray-500\">{result.time}ms</span>\n                </div>\n                \n                <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                  <div>\n                    <div className=\"text-gray-600\">原始大小</div>\n                    <div className=\"font-medium\">{(result.originalSize / 1024).toFixed(1)}KB</div>\n                  </div>\n                  <div>\n                    <div className=\"text-gray-600\">压缩后</div>\n                    <div className=\"font-medium\">{(result.compressedSize / 1024).toFixed(1)}KB</div>\n                  </div>\n                  <div>\n                    <div className=\"text-gray-600\">压缩率</div>\n                    <div className=\"font-medium text-green-600\">{result.compressionRatio.toFixed(1)}%</div>\n                  </div>\n                </div>\n                \n                <div className=\"mt-2\">\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className=\"bg-blue-500 h-2 rounded-full\" \n                      style={{ width: `${result.compressionRatio}%` }}\n                    ></div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* 性能对比 */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">优化效果对比</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"p-4 bg-green-50 rounded-lg\">\n            <h4 className=\"font-semibold text-green-800 mb-2\">✅ 优化优势</h4>\n            <ul className=\"text-sm text-green-700 space-y-1\">\n              <li>• gzip压缩: 65%压缩率，25ms处理时间</li>\n              <li>• brotli压缩: 73%压缩率，45ms处理时间</li>\n              <li>• 批量请求: 75%性能提升</li>\n              <li>• 智能分页: 显著减少内存使用</li>\n            </ul>\n          </div>\n          \n          <div className=\"p-4 bg-blue-50 rounded-lg\">\n            <h4 className=\"font-semibold text-blue-800 mb-2\">📊 性能指标</h4>\n            <div className=\"text-sm text-blue-700 space-y-1\">\n              <div>数据传输: 减少60-70%</div>\n              <div>网络请求: 减少80%</div>\n              <div>加载时间: 提升50%</div>\n              <div>服务器负载: 显著降低</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 技术说明 */}\n      <div className=\"mt-8 bg-gray-50 rounded-lg p-6\">\n        <h3 className=\"text-xl font-bold mb-4\">技术实现说明</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n          <div>\n            <h4 className=\"font-semibold mb-2\">压缩算法</h4>\n            <ul className=\"space-y-1 text-gray-600\">\n              <li>• gzip: 通用压缩，性能优秀</li>\n              <li>• deflate: 标准压缩算法</li>\n              <li>• brotli: 更高压缩率</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-semibold mb-2\">批量优化</h4>\n            <ul className=\"space-y-1 text-gray-600\">\n              <li>• 请求合并减少网络开销</li>\n              <li>• 并行处理提升效率</li>\n              <li>• 智能调度优化资源</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-semibold mb-2\">分页策略</h4>\n            <ul className=\"space-y-1 text-gray-600\">\n              <li>• 虚拟滚动减少DOM</li>\n              <li>• 预加载提升体验</li>\n              <li>• 内存管理优化</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,WAAW;IACX,MAAM,kBAAkB;QACtB,aAAa;QAEb,SAAS;QACT,MAAM,UAAU;YACd;gBACE,WAAW;gBACX,cAAc;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,MAAM;YACR;YACA;gBACE,WAAW;gBACX,cAAc;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,MAAM;YACR;YACA;gBACE,WAAW;gBACX,cAAc;gBACd,gBAAgB;gBAChB,kBAAkB;gBAClB,MAAM;YACR;SACD;QAED,SAAS;QACT,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;QAEjD,sBAAsB;QACtB,aAAa;IACf;IAEA,WAAW;IACX,MAAM,oBAAoB;QACxB,aAAa;QAEb,WAAW;QACX,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;QAEjD,aAAa;QACb,MAAM;IACR;IAEA,SAAS;IACT,MAAM,iBAAiB;QACrB,aAAa;QAEb,SAAS;QACT,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;QAEjD,aAAa;QACb,MAAM;IACR;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;0BAK/B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAC1C,8OAAC;gCACC,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,YAAY,WAAW;;;;;;;;;;;;kCAI5B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAC1C,8OAAC;gCACC,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,YAAY,WAAW;;;;;;;;;;;;kCAI5B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAC1C,8OAAC;gCACC,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,YAAY,WAAW;;;;;;;;;;;;;;;;;;YAM7B,mBAAmB,MAAM,GAAG,mBAC3B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAI,WAAU;kCACZ,mBAAmB,GAAG,CAAC,CAAC,QAAQ,sBAC/B,8OAAC;gCAAgB,WAAU;;kDACzB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAe,OAAO,SAAS,CAAC,WAAW;;;;;;0DAC3D,8OAAC;gDAAK,WAAU;;oDAAyB,OAAO,IAAI;oDAAC;;;;;;;;;;;;;kDAGvD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;kEACC,8OAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,8OAAC;wDAAI,WAAU;;4DAAe,CAAC,OAAO,YAAY,GAAG,IAAI,EAAE,OAAO,CAAC;4DAAG;;;;;;;;;;;;;0DAExE,8OAAC;;kEACC,8OAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,8OAAC;wDAAI,WAAU;;4DAAe,CAAC,OAAO,cAAc,GAAG,IAAI,EAAE,OAAO,CAAC;4DAAG;;;;;;;;;;;;;0DAE1E,8OAAC;;kEACC,8OAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,8OAAC;wDAAI,WAAU;;4DAA8B,OAAO,gBAAgB,CAAC,OAAO,CAAC;4DAAG;;;;;;;;;;;;;;;;;;;kDAIpF,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,OAAO,GAAG,OAAO,gBAAgB,CAAC,CAAC,CAAC;gDAAC;;;;;;;;;;;;;;;;;+BAzB5C;;;;;;;;;;;;;;;;0BAoClB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAoC;;;;;;kDAClD,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;;;;;;;;;;;;;0CAIR,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAI;;;;;;0DACL,8OAAC;0DAAI;;;;;;0DACL,8OAAC;0DAAI;;;;;;0DACL,8OAAC;0DAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAqB;;;;;;kDACnC,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;;;;;;;;;;;;;0CAGR,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAqB;;;;;;kDACnC,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;;;;;;;;;;;;;0CAGR,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAqB;;;;;;kDACnC,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;0DACJ,8OAAC;0DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlB"}}]
}