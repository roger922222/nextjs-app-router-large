{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/bytedance/Downloads/nextjs-app-router-large/lib/db.ts"],"sourcesContent":["// lib/db.ts\n// 简单的内存数据层。注意：在生产环境中应替换为真实数据库。\n\nexport type Post = {\n  id: number;\n  title: string;\n  body: string;\n  createdAt: number; // unix ms\n};\n\nlet _id = 3;\nconst posts: Post[] = [\n  { id: 1, title: \"Hello Next.js\", body: \"欢迎使用 App Router！\", createdAt: Date.now() - 1000 * 60 * 60 },\n  { id: 2, title: \"Server Components\", body: \"默认在服务端获取数据，支持流式渲染。\", createdAt: Date.now() - 1000 * 60 * 30 },\n  { id: 3, title: \"SWR & React Query\", body: \"在客户端进行数据获取与变更。\", createdAt: Date.now() - 1000 * 60 * 10 },\n];\n\nexport function list(): Post[] {\n  return posts.slice().sort((a, b) => b.createdAt - a.createdAt);\n}\n\nexport function get(id: number): Post | undefined {\n  return posts.find((p) => p.id === id);\n}\n\nexport function create(input: { title: string; body: string }): Post {\n  const post: Post = {\n    id: ++_id,\n    title: input.title ?? \"Untitled\",\n    body: input.body ?? \"\",\n    createdAt: Date.now(),\n  };\n  posts.push(post);\n  return post;\n}\n\nexport function update(id: number, patch: Partial<Pick<Post, \"title\" | \"body\">>): Post | undefined {\n  const p = posts.find((x) => x.id === id);\n  if (!p) return undefined;\n  if (typeof patch.title === \"string\") p.title = patch.title;\n  if (typeof patch.body === \"string\") p.body = patch.body;\n  return p;\n}\n\nexport function remove(id: number): boolean {\n  const idx = posts.findIndex((x) => x.id === id);\n  if (idx >= 0) {\n    posts.splice(idx, 1);\n    return true;\n  }\n  return false;\n}\n"],"names":[],"mappings":"AAAA,YAAY;AACZ,+BAA+B;;;;;;;;;;;;;AAS/B,IAAI,MAAM;AACV,MAAM,QAAgB;IACpB;QAAE,IAAI;QAAG,OAAO;QAAiB,MAAM;QAAoB,WAAW,KAAK,GAAG,KAAK,OAAO,KAAK;IAAG;IAClG;QAAE,IAAI;QAAG,OAAO;QAAqB,MAAM;QAAsB,WAAW,KAAK,GAAG,KAAK,OAAO,KAAK;IAAG;IACxG;QAAE,IAAI;QAAG,OAAO;QAAqB,MAAM;QAAkB,WAAW,KAAK,GAAG,KAAK,OAAO,KAAK;IAAG;CACrG;AAEM,SAAS;IACd,OAAO,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;AAC/D;AAEO,SAAS,IAAI,EAAU;IAC5B,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;AACpC;AAEO,SAAS,OAAO,KAAsC;IAC3D,MAAM,OAAa;QACjB,IAAI,EAAE;QACN,OAAO,MAAM,KAAK,IAAI;QACtB,MAAM,MAAM,IAAI,IAAI;QACpB,WAAW,KAAK,GAAG;IACrB;IACA,MAAM,IAAI,CAAC;IACX,OAAO;AACT;AAEO,SAAS,OAAO,EAAU,EAAE,KAA4C;IAC7E,MAAM,IAAI,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACrC,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,OAAO,MAAM,KAAK,KAAK,UAAU,EAAE,KAAK,GAAG,MAAM,KAAK;IAC1D,IAAI,OAAO,MAAM,IAAI,KAAK,UAAU,EAAE,IAAI,GAAG,MAAM,IAAI;IACvD,OAAO;AACT;AAEO,SAAS,OAAO,EAAU;IAC/B,MAAM,MAAM,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5C,IAAI,OAAO,GAAG;QACZ,MAAM,MAAM,CAAC,KAAK;QAClB,OAAO;IACT;IACA,OAAO;AACT"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/bytedance/Downloads/nextjs-app-router-large/app/api/posts/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { list, create } from \"@/lib/db\";\n\nexport async function GET(request: Request) {\n  const { searchParams } = new URL(request.url);\n  const delay = parseInt(searchParams.get(\"delay\") || \"0\", 10) || 0;\n  if (delay > 0) {\n    await new Promise((r) => setTimeout(r, delay));\n  }\n  return NextResponse.json({ posts: list(), ts: Date.now() });\n}\n\nexport async function POST(request: Request) {\n  const payload = await request.json().catch(() => ({}));\n  const post = create({ title: payload.title || \"新帖子\", body: payload.body || \"\" });\n  return NextResponse.json({ ok: true, post, ts: Date.now() }, { status: 201 });\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAgB;IACxC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,QAAQ,SAAS,aAAa,GAAG,CAAC,YAAY,KAAK,OAAO;IAChE,IAAI,QAAQ,GAAG;QACb,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;IACzC;IACA,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,OAAO,IAAA,mHAAI;QAAI,IAAI,KAAK,GAAG;IAAG;AAC3D;AAEO,eAAe,KAAK,OAAgB;IACzC,MAAM,UAAU,MAAM,QAAQ,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IACpD,MAAM,OAAO,IAAA,qHAAM,EAAC;QAAE,OAAO,QAAQ,KAAK,IAAI;QAAO,MAAM,QAAQ,IAAI,IAAI;IAAG;IAC9E,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,IAAI;QAAM;QAAM,IAAI,KAAK,GAAG;IAAG,GAAG;QAAE,QAAQ;IAAI;AAC7E"}}]
}